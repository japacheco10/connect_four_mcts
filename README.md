# Connect 4 Game with Decision Making Algorithms

This project implements a Connect 4 game with various decision making algorithms for gameplay (README wording was revised using Gemini).

## Project Structure
###   Directory and File Descriptions

* **`_logs/`:**
    * Contains log files generated by the application. The log file names will vary.

* **`_resources/`:**
    * Stores application configuration files.
    * `config/log.ini`: Configures the Python logging module, defining logging behavior (e.g., format, handlers).

* **`_test/`:**
    * Holds test case files for the game.
    * `test#.txt`: Each file represents a Connect 4 game setup used for testing purposes.

* **`algorithms/`:**
    * Contains the implementations of the decision-making algorithms.
    * `__init__.py`: Makes the `algorithms` directory a Python package and includes `AlgorithmFactory` class.
    * `base.py`: Defines the abstract base class (`Base`) for the algorithms, ensuring a consistent interface.
    * `uniform_random.py`: Implements the Uniform Random algorithm, which makes moves randomly.
    * `pmcgs.py`: Implements the Pure Monte Carlo Game Search (PMCGS) algorithm, a Monte Carlo method.
    * `uct.py`: Implements the Upper Confidence Bound for Trees (UCT) algorithm, a tree search algorithm.

* **`common/`:**
    * Contains modules with global settings and utility functions.
    * `__init__.py`: Makes the `common` directory a Python package.
    * `game_interface.py`: Defines the `GameInterface` abstract base class to serve as a contract between the game logic and the decision making algorithms.
    * `globals.py`: Defines global constants, including algorithm names (`UR`, `PMCGS`, `UCT`).
    * `utils.py`: Provides utility functions.

* **`connect_4.py`:**
    * Implements the core Connect 4 game logic within the `Connect4` class. This includes board representation, move execution, win condition checking, and game state management.

* **`main.py`:**
    * The main entry point of the application. It orchestrates the game flow by:
        * Initializing logging.
        * Parsing command-line arguments.
        * Loading game settings.
        * Creating the `Connect4` game instance.
        * Running the game.
        * Handling potential errors.

* **`README.md`:**
    * This file, providing an overview and documentation for the project.

## Requirements

* Python 3.x

## Setup and Installation

1.  **Clone the repository:**

    ```bash
    git clone <repository_url>
    cd <project_directory>
    ```

2.  **Dependencies:**

    * This project relies on the Python standard library, so no additional installation steps (like `pip install`) are typically required.


##   Running the Game

1.  **Create a game settings file (e.g., `test.txt`).** The file must adhere to the following format:

    ```
    <Algorithm Name>   # "UR", "PMCGS", or "UCT" (case-sensitive)
    <Player>           # "R" or "Y" (case-sensitive)
    <Board State>      # 6 lines representing the Connect 4 board, 7 columns per line.
                       # Use "O" for an empty space, "R" for Red player's pieces, and "Y" for Yellow player's pieces.
    ```

    Example `test.txt` file:

    ```
    UR
    R
    O O O O O O O
    O O O O O O O
    O O O O O O O
    O O O O O O O
    O O O R O O O
    Y Y R Y O O O
    ```

2.  **Run the `main.py` script from the command line:**

    ```bash
    python main.py <input_file> <verbosity> <simulations>
    ```

    * `<input_file>`: The path to the game settings file (e.g., `test.txt`).
    * `<verbosity>`: Specifies the desired verbosity level of the program's output. Allowed values are:
        * `"Verbose"`: Provides detailed output.
        * `"Brief"`: Provides a concise output.
        * `"None"`: Suppresses most output.
    * `<simulations>`: An integer representing the number of iterations or simulations to run, which is algorithm-specific (e.g., for PMCGS or UCT).

    Example command:

    ```bash
    python main.py test.txt Brief 1000
    ```
##   Algorithms

* **Uniform Random (UR):**
    * A simple algorithm that selects a valid move by choosing a column at random.
    * It does not consider the game state or the opponent's moves.

* **Pure Monte Carlo Game Search (PMCGS):**
    * A Monte Carlo method that evaluates moves by simulating a large number of random games.
    * It selects the move that leads to the highest win rate in the simulations.

* **Upper Confidence Bound for Trees (UCT):**
    * A tree search algorithm that balances exploration and exploitation using the Upper Confidence Bound (UCB) formula.
    * It selectively expands the game tree by focusing on promising moves, leading to more efficient search.

##   Logging

* The application uses the Python `logging` module to record events and errors.
* The logging configuration is defined in the `_resources/config/log.ini` file.
* Logs can be used for debugging, monitoring, and analyzing game behavior.

## References
* Connect4 winning logic is based on (but simplified) KeithGalli's connect4 logic available at https://github.com/KeithGalli/Connect4-Python/blob/master/connect4.py
* Monte Carlo Tree Search logic is based on Gualor's connect4 implementation available at https://github.com/Gualor/connect4-montecarlo